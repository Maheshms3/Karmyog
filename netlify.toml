[build]
  publish = "."
  command = "sed -i 's|%%FIREBASE_API_KEY%%|'$FIREBASE_API_KEY'|g' index.html; sed -i 's|%%FIREBASE_AUTH_DOMAIN%%|'$FIREBASE_AUTH_DOMAIN'|g' index.html; sed -i 's|%%FIREBASE_PROJECT_ID%%|'$FIREBASE_PROJECT_ID'|g' index.html; sed -i 's|%%FIREBASE_STORAGE_BUCKET%%|'$FIREBASE_STORAGE_BUCKET'|g' index.html; sed -i 's|%%FIREBASE_MESSAGING_SENDER_ID%%|'$FIREBASE_MESSAGING_SENDER_ID'|g' index.html; sed -i 's|%%FIREBASE_APP_ID%%|'$FIREBASE_APP_ID'|g' index.html; sed -i 's|%%FIREBASE_MEASUREMENT_ID%%|'$FIREBASE_MEASUREMENT_ID'|g' index.html"

# Netlify config
# Security + sensible defaults for all files
[[headers]]
  for = "/*"
  [headers.values]
  X-Content-Type-Options = "nosniff"
  X-Frame-Options = "SAMEORIGIN"
  Referrer-Policy = "strict-origin-when-cross-origin"
  Permissions-Policy = "geolocation=(), microphone=(), camera=()"

# Correct MIME for the web manifest
[[headers]]
  for = "/manifest.json"
  [headers.values]
  Content-Type = "application/manifest+json"
  Cache-Control = "public, max-age=3600"

# Donâ€™t aggressively cache the service worker itself
[[headers]]
  for = "/service-worker.js"
  [headers.values]
  Cache-Control = "no-cache"

# Help crawlers: cache but not too long
[[headers]]
  for = "/sitemap.xml"
  [headers.values]
  Cache-Control = "public, max-age=3600"

[[headers]]
  for = "/robots.txt"
  [headers.values]
  Cache-Control = "public, max-age=3600"
